<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AI Text Humanizer - Main Processing Interface</title>
    <link rel="stylesheet" href="../css/main.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet" />
<script type="module" src="https://static.rocket.new/rocket-web.js?_cfg=https%3A%2F%2Faitexthu7610back.builtwithrocket.new&_be=https%3A%2F%2Fapplication.rocket.new&_v=0.1.6"></script>
</head>
<body class="bg-background min-h-screen">
    <!-- Global Header -->
    <header class="bg-surface border-b border-border sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <!-- Logo -->
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-gradient-to-br from-primary to-primary-700 rounded-lg flex items-center justify-center">
                        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
                        </svg>
                    </div>
                    <div>
                        <h1 class="text-xl font-semibold text-text-primary">AI Text Humanizer</h1>
                        <p class="text-xs text-text-secondary">Transform AI text to human-like content</p>
                    </div>
                </div>

                <!-- User Account Access -->
                <div class="flex items-center space-x-4">
                    <button class="p-2 text-text-secondary hover:text-text-primary transition-colors duration-200 rounded-lg hover:bg-gray-50">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Page Title -->
        <div class="mb-8">
            <h2 class="text-heading-2 text-text-primary mb-2">Transform Your AI Text</h2>
            <p class="text-body text-text-secondary">Make your AI-generated content sound natural and human-like with our advanced processing tools.</p>
        </div>

        <!-- Processing Interface -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <!-- Left Column - Input Section -->
            <div class="space-y-6">
                <!-- Input Textarea -->
                <div class="card p-6">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-heading-3 text-text-primary">AI-Generated Text</h3>
                        <button id="clearInput" class="text-text-secondary hover:text-error transition-colors duration-200 text-sm font-medium">
                            Clear
                        </button>
                    </div>
                    <textarea id="inputText" class="input-base resize-none h-64 mb-3" placeholder="Paste your AI-generated text here to transform it into natural, human-sounding content..." oninput="updateCharCount('input')"></textarea>
                    <div class="flex items-center justify-between text-caption text-text-secondary">
                        <span id="inputCharCount">0 characters</span>
                        <span class="text-xs">Max: 10,000 characters</span>
                    </div>
                </div>

                <!-- Customization Controls -->
                <div class="card p-6">
                    <h3 class="text-heading-3 text-text-primary mb-6">Customization Settings</h3>
                    
                    <!-- Tone Selection -->
                    <div class="mb-6">
                        <label for="toneSelect" class="block text-sm font-medium text-text-primary mb-2">Tone</label>
                        <select id="toneSelect" class="input-base">
                            <option value="friendly">Friendly</option>
                            <option value="professional" selected>Professional</option>
                            <option value="casual">Casual</option>
                            <option value="empathetic">Empathetic</option>
                        </select>
                    </div>

                    <!-- Warmth Level Slider -->
                    <div class="mb-6">
                        <label for="warmthSlider" class="block text-sm font-medium text-text-primary mb-2">
                            Warmth Level: <span id="warmthValue" class="text-primary font-semibold">5</span>
                        </label>
                        <div class="relative">
                            <input type="range" id="warmthSlider" min="0" max="10" value="5" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider-thumb" oninput="updateSliderValue('warmth', this.value)" />
                            <div class="flex justify-between text-xs text-text-secondary mt-1">
                                <span>Cold</span>
                                <span>Warm</span>
                            </div>
                        </div>
                    </div>

                    <!-- Brevity Level Slider -->
                    <div class="mb-6">
                        <label for="brevitySlider" class="block text-sm font-medium text-text-primary mb-2">
                            Brevity Level: <span id="brevityValue" class="text-primary font-semibold">5</span>
                        </label>
                        <div class="relative">
                            <input type="range" id="brevitySlider" min="0" max="10" value="5" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider-thumb" oninput="updateSliderValue('brevity', this.value)" />
                            <div class="flex justify-between text-xs text-text-secondary mt-1">
                                <span>Detailed</span>
                                <span>Concise</span>
                            </div>
                        </div>
                    </div>

                    <!-- Target Audience -->
                    <div class="mb-6">
                        <label for="targetAudience" class="block text-sm font-medium text-text-primary mb-2">Target Audience</label>
                        <input type="text" id="targetAudience" class="input-base" placeholder="e.g., Marketing professionals, Students, General public" />
                    </div>

                    <!-- Process Button -->
                    <button id="humanizeBtn" class="btn-primary w-full relative overflow-hidden" onclick="processText()">
                        <span id="btnText">Humanize Text</span>
                        <div id="loadingSpinner" class="hidden absolute inset-0 flex items-center justify-center">
                            <svg class="animate-spin h-5 w-5 text-white" fill="none" viewBox="0 0 24 24">
                                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"/>
                                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"/>
                            </svg>
                        </div>
                    </button>
                </div>
            </div>

            <!-- Right Column - Output Section -->
            <div class="space-y-6">
                <!-- Output Textarea -->
                <div class="card p-6">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-heading-3 text-text-primary">Humanized Text</h3>
                        <button id="copyBtn" class="flex items-center space-x-2 text-primary hover:text-primary-700 transition-colors duration-200 text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed" onclick="copyToClipboard()" disabled>
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                            </svg>
                            <span>Copy</span>
                        </button>
                    </div>
                    <textarea id="outputText" class="input-base resize-none h-64 mb-3 bg-gray-50" placeholder="Your humanized text will appear here..." readonly></textarea>
                    <div class="flex items-center justify-between text-caption text-text-secondary">
                        <span id="outputCharCount">0 characters</span>
                        <span class="text-xs">Ready to copy</span>
                    </div>
                </div>

                <!-- Edit Summary -->
                <div class="card p-6">
                    <h3 class="text-heading-3 text-text-primary mb-4">Edit Summary</h3>
                    <div id="editSummary" class="text-body text-text-secondary min-h-[3rem] flex items-center">
                        <p class="italic">Process your text to see a summary of changes made.</p>
                    </div>
                </div>

                <!-- Additional Options -->
                <div class="card p-6">
                    <h3 class="text-heading-3 text-text-primary mb-4">Additional Options</h3>
                    
                    <!-- Before/After Comparison Toggle -->
                    <div class="flex items-center justify-between mb-4">
                        <span class="text-sm font-medium text-text-primary">Before/After Comparison</span>
                        <label class="relative inline-flex items-center cursor-pointer">
                            <input type="checkbox" id="comparisonToggle" class="sr-only peer" onchange="toggleComparison()" />
                            <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-100 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"></div>
                        </label>
                    </div>

                    <!-- Save/Export Options -->
                    <div class="flex space-x-3">
                        <button id="saveBtn" class="btn-outline flex-1 disabled:opacity-50 disabled:cursor-not-allowed" onclick="saveText()" disabled>
                            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3-3m0 0l-3 3m3-3v12"/>
                            </svg>
                            Save
                        </button>
                        <button id="exportBtn" class="btn-outline flex-1 disabled:opacity-50 disabled:cursor-not-allowed" onclick="exportText()" disabled>
                            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                            </svg>
                            Export
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Comparison View (Hidden by default) -->
        <div id="comparisonView" class="hidden mt-8 card p-6">
            <h3 class="text-heading-3 text-text-primary mb-6">Before & After Comparison</h3>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <div>
                    <h4 class="text-sm font-medium text-text-primary mb-3">Original (AI-Generated)</h4>
                    <div id="originalComparison" class="bg-red-50 border border-red-200 rounded-lg p-4 text-sm text-text-primary min-h-[8rem]">
                        Original text will appear here...
                    </div>
                </div>
                <div>
                    <h4 class="text-sm font-medium text-text-primary mb-3">Humanized Version</h4>
                    <div id="humanizedComparison" class="bg-green-50 border border-green-200 rounded-lg p-4 text-sm text-text-primary min-h-[8rem]">
                        Humanized text will appear here...
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-surface border-t border-border mt-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="text-center">
                <p class="text-caption text-text-secondary">© 2025 AI Text Humanizer. All Rights Reserved.</p>
                <div class="flex items-center justify-center space-x-4 mt-4">
                    <div class="flex items-center space-x-2 text-xs text-text-secondary">
                        <svg class="w-4 h-4 text-success" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd"/>
                        </svg>
                        <span>SSL Secured</span>
                    </div>
                    <div class="flex items-center space-x-2 text-xs text-text-secondary">
                        <svg class="w-4 h-4 text-primary" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 8a6 6 0 01-7.743 5.743L10 14l-1 1-1 1H6v2H2v-4l4.257-4.257A6 6 0 1118 8zm-6-4a1 1 0 100 2 2 2 0 012 2 1 1 0 102 0 4 4 0 00-4-4z" clip-rule="evenodd"/>
                        </svg>
                        <span>Privacy Protected</span>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // Character count update function
        function updateCharCount(type) {
            const textarea = document.getElementById(type === 'input' ? 'inputText' : 'outputText');
            const countElement = document.getElementById(type === 'input' ? 'inputCharCount' : 'outputCharCount');
            const count = textarea.value.length;
            countElement.textContent = `${count.toLocaleString()} characters`;
            
            // Enable/disable buttons based on input
            if (type === 'input') {
                const hasInput = count > 0;
                document.getElementById('humanizeBtn').disabled = !hasInput;
            }
        }

        // Slider value update function
        function updateSliderValue(type, value) {
            document.getElementById(type + 'Value').textContent = value;
        }

        // Clear input function
        document.getElementById('clearInput').addEventListener('click', function() {
            document.getElementById('inputText').value = '';
            updateCharCount('input');
        });

        // Process text function
        function processText() {
            const inputText = document.getElementById('inputText').value.trim();
            
            if (!inputText) {
                alert('Please enter some text to humanize.');
                return;
            }

            // Show loading state
            const btn = document.getElementById('humanizeBtn');
            const btnText = document.getElementById('btnText');
            const spinner = document.getElementById('loadingSpinner');
            
            btn.disabled = true;
            btnText.classList.add('invisible');
            spinner.classList.remove('hidden');

            // Simulate processing (replace with actual API call)
            setTimeout(() => {
                // Mock humanized text generation
                const tone = document.getElementById('toneSelect').value;
                const warmth = document.getElementById('warmthSlider').value;
                const brevity = document.getElementById('brevitySlider').value;
                const audience = document.getElementById('targetAudience').value;

                // Simple mock transformation
                let humanizedText = inputText
                    .replace(/\b(utilize|utilization)\b/gi, 'use')
                    .replace(/\b(commence|initiate)\b/gi, 'start')
                    .replace(/\b(terminate|conclude)\b/gi, 'end')
                    .replace(/\b(facilitate)\b/gi, 'help')
                    .replace(/\b(subsequently)\b/gi, 'then')
                    .replace(/\b(prior to)\b/gi, 'before')
                    .replace(/\b(in order to)\b/gi, 'to');

                // Add tone-specific adjustments
                if (tone === 'friendly') {
                    humanizedText = humanizedText.replace(/\./g, '!').replace(/!!/g, '.');
                } else if (tone === 'casual') {
                    humanizedText = humanizedText.replace(/\b(you are)\b/gi, "you're")
                        .replace(/\b(it is)\b/gi, "it's")
                        .replace(/\b(we are)\b/gi, "we're");
                }

                document.getElementById('outputText').value = humanizedText;
                updateCharCount('output');

                // Generate edit summary
                const changes = [];
                if (inputText.includes('utilize')) changes.push('replaced formal terms with simpler alternatives');
                if (tone === 'friendly') changes.push('adjusted tone to be more friendly and engaging');
                if (tone === 'casual') changes.push('made language more conversational with contractions');
                
                const summary = changes.length > 0 
                    ? `Applied ${tone} tone and ${changes.join(', ')}.`
                    : `Transformed text to ${tone} tone with warmth level ${warmth} and brevity level ${brevity}.`;
                
                document.getElementById('editSummary').innerHTML = `<p>${summary}</p>`;

                // Enable buttons
                document.getElementById('copyBtn').disabled = false;
                document.getElementById('saveBtn').disabled = false;
                document.getElementById('exportBtn').disabled = false;

                // Update comparison view if enabled
                if (document.getElementById('comparisonToggle').checked) {
                    document.getElementById('originalComparison').textContent = inputText;
                    document.getElementById('humanizedComparison').textContent = humanizedText;
                }

                // Hide loading state
                btn.disabled = false;
                btnText.classList.remove('invisible');
                spinner.classList.add('hidden');
            }, 2000);
        }

        // Copy to clipboard function
        function copyToClipboard() {
            const outputText = document.getElementById('outputText');
            outputText.select();
            document.execCommand('copy');
            
            // Show feedback
            const copyBtn = document.getElementById('copyBtn');
            const originalText = copyBtn.innerHTML;
            copyBtn.innerHTML = '<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg><span>Copied!</span>';
            
            setTimeout(() => {
                copyBtn.innerHTML = originalText;
            }, 2000);
        }

        // Toggle comparison view
        function toggleComparison() {
            const comparisonView = document.getElementById('comparisonView');
            const toggle = document.getElementById('comparisonToggle');
            
            if (toggle.checked) {
                comparisonView.classList.remove('hidden');
                comparisonView.classList.add('animate-slide-down');
            } else {
                comparisonView.classList.add('hidden');
            }
        }

        // Save text function
        function saveText() {
            const outputText = document.getElementById('outputText').value;
            if (!outputText) return;
            
            // Mock save functionality
            alert('Text saved successfully!');
        }

        // Export text function
        function exportText() {
            const outputText = document.getElementById('outputText').value;
            if (!outputText) return;
            
            // Create and download file
            const blob = new Blob([outputText], { type: 'text/plain' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'humanized-text.txt';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
        }

        // Load user preferences from localStorage
        window.addEventListener('load', function() {
            const savedTone = localStorage.getItem('aiHumanizer_tone');
            const savedWarmth = localStorage.getItem('aiHumanizer_warmth');
            const savedBrevity = localStorage.getItem('aiHumanizer_brevity');
            
            if (savedTone) document.getElementById('toneSelect').value = savedTone;
            if (savedWarmth) {
                document.getElementById('warmthSlider').value = savedWarmth;
                updateSliderValue('warmth', savedWarmth);
            }
            if (savedBrevity) {
                document.getElementById('brevitySlider').value = savedBrevity;
                updateSliderValue('brevity', savedBrevity);
            }
        });

        // Save user preferences to localStorage
        document.getElementById('toneSelect').addEventListener('change', function() {
            localStorage.setItem('aiHumanizer_tone', this.value);
        });

        document.getElementById('warmthSlider').addEventListener('input', function() {
            localStorage.setItem('aiHumanizer_warmth', this.value);
        });

        document.getElementById('brevitySlider').addEventListener('input', function() {
            localStorage.setItem('aiHumanizer_brevity', this.value);
        });

        // Custom slider styling
        const sliders = document.querySelectorAll('input[type="range"]');
        sliders.forEach(slider => {
            slider.addEventListener('input', function() {
                const value = (this.value - this.min) / (this.max - this.min) * 100;
                this.style.background = `linear-gradient(to right, #2563EB 0%, #2563EB ${value}%, #e5e7eb ${value}%, #e5e7eb 100%)`;
            });
            
            // Initialize slider background
            const value = (slider.value - slider.min) / (slider.max - slider.min) * 100;
            slider.style.background = `linear-gradient(to right, #2563EB 0%, #2563EB ${value}%, #e5e7eb ${value}%, #e5e7eb 100%)`;
        });
    </script>
<script id="dhws-dataInjector" src="../public/dhws-data-injector.js"></script>
</body>
</html>